# 金融风控 AI 系统 - 页面功能总结文档

本文档详细总结了金融风控 AI 系统中各核心模块的页面功能与交互设计。

## 1. 首页 (Dashboard)
**文件路径**: `app/templates/home.html`

系统的主入口，提供全链路工作流的可视化导航。

*   **核心功能**:
    *   **风控流水线概览**: 清晰展示从数据集管理到 COT 数据质检的完整处理流程节点。
    *   **快速导航**: 分为 "特征工程模块" 和 "大模型风控模块" 两大板块，提供各个子系统的快捷入口卡片。
    *   **状态展示**: 每个模块卡片简要说明了其核心能力（如正例无标签学习、自动化特征筛选等）。

---

## 2. 数据集管理 (Dataset Management)
**文件路径**: `app/templates/data_tool/dataset.html`

负责管理模型训练所需的原始数据与中间结果文件。

*   **核心功能**:
    *   **训练集上传**: 支持拖拽或点击上传 `train.csv` 文件，作为后续特征工程的基础数据。
    *   **PU 预测结果上传**: 支持上传 PU Learning 模块生成的预测文件。
    *   **状态反馈**: 实时显示文件上传状态（Ready/Empty）及文件名。
    *   **数据预览**: (预留功能) 展示上传数据的头部记录预览。

---

## 3. 特征工程 - PU Learning (正例无标签学习)
**文件路径**: `app/templates/data_tool/pu_learning.html`

针对金融风控场景中正负样本极度不平衡（仅有少量违约样本）的问题，提供基于 Bagging 的集成学习解决方案。

*   **核心功能**:
    *   **模型训练**: 支持上传数据并启动 PU Bagging 训练任务。
    *   **系统日志**: 带有展开/收起功能的实时日志控制台，展示训练过程中的关键信息。
    *   **结果可视化**:
        *   **结果统计**: 展示正样本最低置信度、高置信度样本数量及总样本数，配有可视化进度条。
        *   **特征重要性**: 展示模型评估出的 Top 10 关键特征及其重要性评分条形图。
        *   **Top 10 风险样本**: 详细列出风险概率最高的 10 个样本，包含排名奖牌图标和风险概率进度条。
    *   **数据导出**: 支持下载全部预测结果。

---

## 4. 特征工程 - AutoML (自动化特征筛选)
**文件路径**: `app/templates/data_tool/feature_engineering.html`

采用多策略集成学习框架（互信息、XGBoost、Random Forest）自动筛选关键特征。

*   **核心功能**:
    *   **自动化筛选**: 一键启动特征选择算法，自动识别并剔除冗余特征。
    *   **历史结果加载**: 智能检测是否存在历史运行结果，并提供“加载历史结果”按钮，避免重复计算。
    *   **多维度排名展示**:
        *   展示特征在三个不同训练子集中的排名情况及平均排名。
        *   **可收缩设计**: 默认展示 Top 10 核心特征，支持展开查看 Top 100 完整列表，减少页面冗余信息。
        *   **视觉优化**: 前三名特征配有金银铜奖牌样式，提升视觉层次感。
    *   **搜索与过滤**: 支持按中文或英文特征名称实时搜索过滤结果。
    *   **CSV 下载**: 支持导出筛选后的特征排名表。

---

## 5. 大模型风控 - 提示词工程与设计 (Prompt Design)
**文件路径**: `app/templates/risk_cot/prompt_design.html`

全新的提示词优化设计中心，支持规则化与意见指导的智能优化流程。

*   **核心功能**:
    *   **原始模板展示**: 提供基础提示词模板库，支持多模板切换与元信息展示。
    *   **优化操作中心**:
        *   **规则库系统**: 支持创建、编辑和删除优化规则（如语言风格、结构优化等）。
        *   **意见点选**: 提供专家级预置意见及自定义意见点选，精准指导优化方向。
        *   **智能优化**: 结合选定规则与意见，调用大模型实时生成优化后的提示词。
    *   **优化结果区**:
        *   **实时预览**: 动态展示优化后的提示词内容，支持直接编辑。
        *   **版本对比 (Diff)**: 提供原始模板与优化后模板的行级差异对比视图。
        *   **保存与导出**: 支持优化结果的版本化保存及本地 TXT 导出。
    *   **交互增强**: 支持操作撤销/重做（Undo/Redo），确保设计过程可追溯。

## 6. 大模型风控 - 思维链 (CoT) 推理
**文件路径**: `app/templates/risk_cot/inference.html`

利用深度推理模型（如 DeepSeek-R1）挖掘风控数据背后的隐性风险特征。

*   **核心功能**:
    *   **任务配置**: 支持上传 JSONL 文件，配置 API Key、Base URL、模型名称及并发线程数。
    *   **任务控制**: 支持启动和停止推理任务。
    *   **实时监控**:
        *   **状态卡片**: 实时显示任务状态（Running/Completed）、处理进度（进度条）及输出文件名。
        *   **日志控制台**: 实时流式传输后台处理日志。
